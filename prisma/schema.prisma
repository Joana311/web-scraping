// *** DO NOT EDIT. GENERATED BY PRISMIX. ***
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       String        @id @default(uuid())
  name     String
  email    String        @unique
  workouts UserWorkout[] @relation(name: "UserToUserWorkout")
}

model UserWorkout {
  createdAt DateTime       @default(now())
  endedAt   DateTime?
  id        String         @id @default(cuid())
  owner     User?          @relation(name: "UserToUserWorkout", fields: [owner_id], references: [id])
  owner_id  String
  exercises UserExercise[] @relation(name: "UserExerciseToUserWorkout")
}

model UserExercise {
  exercise    Exercise     @relation(name: "ExerciseToUserExercise", fields: [exercise_id], references: [id])
  exercise_id String
  id          String       @id @default(cuid())
  sets        Set[]        @relation(name: "SetToUserExercise")
  Workout     UserWorkout? @relation(name: "UserExerciseToUserWorkout", fields: [workout_id], references: [id])
  workout_id  String?
}

model Set {
  updatedAt        DateTime      @updatedAt
  id               String        @id @default(cuid())
  weight           Int?
  reps             Int           @default(0)
  rpe              Int           @default(0)
  UserExercise     UserExercise? @relation(name: "SetToUserExercise", fields: [user_exercise_id], references: [id])
  user_exercise_id String?
}

model Exercise {
  id             String         @id @default(uuid())
  UserExercise   UserExercise[] @relation(name: "ExerciseToUserExercise")
  name           String
  href           String?
  force          String?
  equipment      Equipment?     @relation(name: "EquipmentToExercise", fields: [equipment_name], references: [name])
  equipment_name String?
  muscle         Muscle?        @relation(name: "ExerciseToMuscle", fields: [muscle_name], references: [name])
  muscle_name    String?
  video_url      String?

  @@unique([href, name, equipment_name, muscle_name])
}

model Equipment {
  name      String     @unique
  exercises Exercise[] @relation(name: "EquipmentToExercise")
}

model BodyPart {
  name    String   @unique
  muscles Muscle[] @relation(name: "BodyPartToMuscle")
  href    String?
}

model Muscle {
  name          String     @unique
  bodypart      BodyPart   @relation(name: "BodyPartToMuscle", fields: [bodypart_name], references: [name])
  bodypart_name String
  exercises     Exercise[] @relation(name: "ExerciseToMuscle")
}
