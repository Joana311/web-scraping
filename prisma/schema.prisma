// *** DO NOT EDIT. GENERATED BY PRISMIX. ***
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       String    @id @default(uuid())
  name     String
  email    String    @unique
  workouts Workout[] @relation(name: "UserToWorkout")
}

model Workout {
  id      String   @id @default(uuid())
  owner   User?    @relation(name: "UserToWorkout", fields: [ownerID], references: [id])
  ownerID String
  date    DateTime @default(now())
  sets    Set[]    @relation(name: "SetToWorkout")
}

model UserExercise {
  exercise   Exercise @relation(name: "ExerciseToUserExercise", fields: [exerciseId], references: [id])
  exerciseID String
  uuid       String   @id @default(uuid())
  name       String
  url        String
  inSets     Set[]    @relation(name: "SetToUserExercise")
  exerciseId String
}

model Set {
  createdAt      DateTime      @default(now())
  id             String        @id @default(cuid())
  workout        Workout?      @relation(name: "SetToWorkout", fields: [workoutID], references: [id])
  workoutID      String?
  weight         Int?
  reps           Int           @default(0)
  rpe            Int           @default(0)
  UserExercise   UserExercise? @relation(name: "SetToUserExercise", fields: [userExerciseID], references: [uuid])
  userExerciseID String?
}

model Exercise {
  id             String         @id @default(uuid())
  UserExercise   UserExercise[] @relation(name: "ExerciseToUserExercise")
  name           String
  href           String?
  force          String?
  equipment      Equipment?     @relation(name: "EquipmentToExercise", fields: [equipment_name], references: [name])
  equipment_name String?
  muscle         Muscle?        @relation(name: "ExerciseToMuscle", fields: [muscle_name], references: [name])
  muscle_name    String?
  video_url      String?

  @@unique([href, name, equipment_name, muscle_name])
}

model Equipment {
  name      String     @unique
  exercises Exercise[] @relation(name: "EquipmentToExercise")
}

model BodyPart {
  name    String   @unique
  muscles Muscle[] @relation(name: "BodyPartToMuscle")
  href    String?
}

model Muscle {
  name          String     @unique
  bodypart      BodyPart   @relation(name: "BodyPartToMuscle", fields: [bodypart_name], references: [name])
  bodypart_name String
  exercises     Exercise[] @relation(name: "ExerciseToMuscle")
}
